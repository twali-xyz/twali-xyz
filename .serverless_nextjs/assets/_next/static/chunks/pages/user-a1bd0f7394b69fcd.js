(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{18817:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return n(76042)}])},76042:function(e,t,n){"use strict";n.r(t);var r=n(34051),u=n.n(r),a=n(85893),o=n(67294),s=n(11163),c=n(4612),i=n(15193);function l(e,t,n,r,u,a,o){try{var s=e[a](o),c=s.value}catch(i){return void n(i)}s.done?t(c):Promise.resolve(c).then(r,u)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function o(e){l(a,r,u,o,s,"next",e)}function s(e){l(a,r,u,o,s,"throw",e)}o(void 0)}))}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}t.default=function(){var e=(0,s.useRouter)(),t=(0,o.useState)({user_name:"",user_wallet:""}),n=t[0],r=t[1],l=function(){var t=f(u().mark((function t(r){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,fetch("/api/users/new",{method:"POST",body:JSON.stringify({userDescription:n})});case 3:e.push("/userProfile/".concat(n.user_name));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=f(u().mark((function e(){var t,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"4"==(t=window.ethereum).networkVersion){e.next=5;break}return alert("Need to be on rinkeby to test this"),e.abrupt("return");case 5:return t||alert("WHERE TF YOUR METAMASK?"),e.next=8,t.request({method:"eth_requestAccounts"});case 8:a=e.sent,r(h({},n,{user_wallet:a[0]})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Create username and enter wallet info"}),(0,a.jsx)("br",{}),(0,a.jsx)(c.II,{type:"text",name:"user-name",value:n.user_name||"",placeholder:"E.g. @Memeboii.eth",onChange:function(e){return r(h({},n,{user_name:e.target.value}))}}),(0,a.jsx)("br",{}),(0,a.jsx)(c.II,{type:"text",name:"user-wallet",value:n.user_wallet||"",placeholder:"Eth wallet address",onChange:function(e){return r(h({},n,{user_wallet:e.target.value}))}}),(0,a.jsx)(i.zx,{onClick:l,children:"Create User"}),""==n.user_wallet?(0,a.jsx)(i.zx,{onClick:p,children:"Connect Wallet"}):"",(0,a.jsx)("br",{})]})}}},function(e){e.O(0,[916,774,888,179],(function(){return t=18817,e(e.s=t);var t}));var t=e.O();_N_E=t}]);