(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{22697:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(2765)}])},94429:function(e,n,t){"use strict";var r=t(28520),i=t.n(r),o=t(85893),a=t(67294),c=t(15193),s=t(68527),l=t(38152),d=t(97375),p=t(59876),u=t(41664),h=t(11163),x=t(2097),f=t(52585),m=t.n(f),y=t(3283),j=t.n(y),g=t(42484),v=t.n(g),w=t(58745),b=t(64488),C=t(49868),I=t(77075),S=t(65820);function D(e,n,t,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,i)}function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){k(e,n,t[n])}))}return e}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T=function(e){var n=e.children,t=e.isLast,r=e.to,i=void 0===r?"/":r;return(0,o.jsx)(c.zx,{variant:"ghost",mb:{base:t?0:8,sm:0},mr:{base:0,sm:t?0:8},display:"block",children:(0,o.jsx)(u.default,{href:i,children:n})})};n.Z=function(e){var n,t=e.whichPage,r=(0,a.useState)(!1),u=r[0],f=r[1],y=P(a.useState(!1),2),g=y[0],k=y[1],E=(0,d.qY)(),O=(E.isOpen,E.onOpen,E.onClose,(0,a.useState)("")),q=(O[0],O[1]),F=(0,a.useState)(""),z=(F[0],F[1]),R=(0,a.useState)(""),M=(R[0],R[1]),B=(0,a.useState)(!1),L=(B[0],B[1]),A=(0,h.useRouter)(),V=(n=i().mark((function e(){var n,t,r,o,a,c,s,l,d,p,u,h,f,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(v())({disableInjectedProvider:!1,network:"rinkeby",cacheProvider:!1,providerOptions:{walletconnect:{package:b.Z,options:{rpc:{1:"https://eth-rinkeby.alchemyapi.io/v2/QtLM8rW9nB6DobDu8KQx-7fYMS2rBlky"}}}}}),e.next=3,n.connect();case 3:return t=e.sent,console.log(t),r=new(j())(t),console.log(r),e.next=9,r.eth.getAccounts();case 9:return o=e.sent,a=o[0],c=new x.ZP("https://ceramic-clay.3boxlabs.com"),s=new S.xK({ceramic:c}),k(!0),e.prev=14,l=new C.$F,d=new C.KS(window.ethereum,a),e.next=19,l.connect(d);case 19:return p=new I.DID({provider:l.getDidProvider(),resolver:N({},m().getResolver(c))}),c.setDID(p),e.next=23,c.did.authenticate();case 23:return e.next=25,s.get("basicProfile","".concat(a,"@eip155:1"));case 25:return u=e.sent,console.log("data: ",u),e.next=29,w.TileDocument.deterministic(c,{family:"user-profile-data"},{anchor:!1,publish:!1});case 29:h=e.sent,console.log("profileData: ",h.content),f=h.content.identity,y=h.content.accType,u.name&&f.email&&y?(q(u.name),z(f.email),M(y),k(!1),A.push("/profile")):(console.log("No profile, pls create one..."),A.push("/steps")),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(14),console.log("error: ",e.t0),A.push("/steps"),L(!0);case 41:case"end":return e.stop()}}),e,null,[[14,36]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){D(o,r,i,a,c,"next",e)}function c(e){D(o,r,i,a,c,"throw",e)}a(void 0)}))});return"index"===t?(0,o.jsxs)(s.kC,{h:10,mb:8,p:10,as:"nav",align:"center",justify:"space-between",wrap:"wrap",w:"100%",children:[(0,o.jsx)(s.Ug,{spacing:10,alignItems:"flex-start",children:(0,o.jsx)(s.X6,{w:"300px",children:"Twali \ud83d\udc41\u200d\ud83d\udde8"})}),(0,o.jsx)(s.xu,{display:{base:"block",md:"block"},flexBasis:{base:"100%",md:"auto"},children:(0,o.jsxs)(c.zx,{mb:{base:8,sm:0},mr:{base:0,sm:8},display:"block",onClick:V,colorScheme:"teal",children:["Connect Wallet ",g?(0,o.jsx)(l.D8,{size:"22px",thickness:"4px",isIndeterminate:!0,color:"#3C2E26"}):null]})})]}):"sign-up"===t||"steps"===t?(0,o.jsxs)(s.kC,{h:10,mb:8,p:10,as:"nav",align:"left",justify:"space-between",wrap:"wrap",w:"100%",children:[(0,o.jsx)(s.Ug,{alignItems:"flex-start",children:(0,o.jsx)(s.X6,{as:"h4",size:"md",w:"300px",children:"Twali \ud83d\udc41\u200d\ud83d\udde8"})}),(0,o.jsx)(s.Ug,{alignItems:"flex-end",children:(0,o.jsx)(s.xu,{ml:"2",mt:"1",w:"150px",backgroundColor:"teal",borderRadius:16,children:(0,o.jsx)(s.xv,{pl:6,color:"white",size:"xs",children:"0xP0...Z0p4"})})})]}):(0,o.jsxs)(s.kC,{h:10,mb:8,p:10,as:"nav",align:"center",justify:"space-between",wrap:"wrap",w:"100%",children:[(0,o.jsx)(s.Ug,{spacing:10,alignItems:"flex-start",children:(0,o.jsx)(s.X6,{w:"300px",children:"Twali \ud83d\udc41\u200d\ud83d\udde8"})}),(0,o.jsx)(s.xu,{display:{base:"block",md:"none"},onClick:function(){return f(!u)},children:u?(0,o.jsx)(p.Tw,{}):(0,o.jsx)(p.Uq,{})}),(0,o.jsx)(s.xu,{display:{base:u?"block":"none",md:"block"},flexBasis:{base:"100%",md:"auto"},children:(0,o.jsxs)(s.kC,{align:"center",justify:["center","space-between","flex-end","flex-end"],direction:["column","row","row","row"],pt:[4,4,0,0],children:[(0,o.jsx)(T,{isLast:!1,to:"/directory",children:"Directory"}),(0,o.jsx)(T,{isLast:!1,to:"/profile",children:"Profile"})]})})]})}},2765:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ae}});var r=t(85893),i=t(68527),o=t(94429),a=t(28520),c=t.n(a),s=t(34651),l=t(97375),d=t(38152),p=t(15193),u=t(67294),h=t(67679),x=t(2097),f=t(52585),m=t.n(f),y=t(49868),j=t(77075),g=t(65820),v=t(58745),w=t(67814),b=t(30135),C=t(79762),I=t(4612),S=t(33441);function D(e,n,t,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,i)}function k(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){D(o,r,i,a,c,"next",e)}function c(e){D(o,r,i,a,c,"throw",e)}a(void 0)}))}}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){N(e,n,t[n])}))}return e}var T="https://ceramic-clay.3boxlabs.com",E=function(e){var n=(0,u.useRef)(),t=(0,u.useState)(!1),o=t[0],a=t[1],s=(0,u.useState)(e.profileData.content.accType),l=s[0],f=(s[1],(0,u.useState)(e.profileData.content.identity)),w=f[0],D=f[1],E=(0,u.useState)(),O=E[0],q=(E[1],(0,u.useState)(e.profileData)),F=q[0],z=q[1],R=(0,u.useState)({firstName:e.profileData.content.identity.firstName,lastName:e.profileData.content.identity.lastName,currTitle:e.profileData.content.identity.currTitle,bio:e.profileData.content.identity.bio,linkedIn:e.profileData.content.identity.linkedIn,twitter:e.profileData.content.identity.twitter}),M=R[0],B=R[1],L=(0,u.useState)({firstName:null,lastName:null,currTitle:null,bio:null,linkedIn:null,twitter:null}),A=L[0],V=L[1];function W(){return(W=k(c().mark((function n(){var t,r,i,o,s,d,p;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.$)();case 2:if(!(t=n.sent)){n.next=25;break}return r=new x.ZP(T),i=new y.$F,o=new y.KS(window.ethereum,t),a(!0),n.next=10,i.connect(o);case 10:return s=new j.DID({provider:i.getDidProvider(),resolver:P({},m().getResolver(r))}),r.setDID(s),n.next=14,r.did.authenticate();case 14:return d=new g.xK({ceramic:r}),n.next=17,d.get("basicProfile","".concat(t,"@eip155:1"));case 17:return p=n.sent,console.log("data: ",p),O&&console.log(O),n.next=22,U(r,w,l);case 22:console.log("Profile updated!"),console.log(w),w.firstName&&w.lastName&&w.email?(a(!1),e.handleUpdatedProfile(F,!1),e.onClose()):console.log("No profile, pls create one...");case 25:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var U=k(c().mark((function e(n,t,r){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.TileDocument.deterministic(n,{family:"user-profile-data"});case 2:return i=e.sent,e.next=5,i.update({identity:t,accType:r});case 5:case"end":return e.stop()}}),e)}))),X=function(n){n.persist(),B((function(e){return P({},e,N({},n.target.name,n.target.value))})),V(Y(M)),D(P({},w,N({},n.target.name,n.target.value)));var t={content:{identity:w,accType:e.profileData.content.accType}};z(t)},Y=function(e){var n={};e.firstName||(n.firstName="First name is required"),e.lastName||(n.lastName="Last name is required"),e.currTitle||(n.currTitle="Current title is required"),e.bio&&e.bio.length>280&&(n.bio="Bio is too long. It should be less than 280 characters.");var t=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/;return e.linkedIn&&!t.test(e.linkedIn)&&(n.linkedIn="Please enter a valid URL"),e.twitter&&!t.test(e.twitter)&&(n.twitter="Please enter a valid URL"),n};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(b.u_,{finalFocusRef:n,isOpen:e.isOpen,onClose:e.onClose,children:[(0,r.jsx)(b.ZA,{}),(0,r.jsxs)(b.hz,{children:[(0,r.jsx)(b.xB,{children:"Edit your profile details"}),(0,r.jsx)(b.ol,{}),(0,r.jsx)(b.fe,{children:(0,r.jsxs)("form",{style:{alignSelf:"center"},children:[(0,r.jsx)(C.NI,{p:2,children:(0,r.jsx)(C.lX,{children:"Update profile picture"})}),(0,r.jsxs)(C.NI,{p:2,id:"first-name",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"First name"}),(0,r.jsx)(I.II,{required:!0,isInvalid:A.firstName&&(!e.profileData.content.identity.firstName||!M.firstName),errorBorderColor:"red.300",placeholder:"First name",name:"firstName",defaultValue:e.profileData.content.identity.firstName||"",onChange:X}),A.firstName&&(!e.profileData.content.identity.firstName||!M.firstName)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:A.firstName})]}),(0,r.jsxs)(C.NI,{p:2,id:"last-name",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"Last name"}),(0,r.jsx)(I.II,{required:!0,isInvalid:A.lastName&&(!e.profileData.content.identity.lastName||!M.lastName),errorBorderColor:"red.300",placeholder:"Last name",name:"lastName",defaultValue:e.profileData.content.identity.lastName||"",onChange:X}),A.lastName&&(!e.profileData.content.identity.lastName||!M.lastName)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:A.lastName})]}),(0,r.jsxs)(C.NI,{p:2,id:"current-title",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"What's your current title?"}),(0,r.jsx)(I.II,{isInvalid:A.currTitle&&(!e.profileData.content.identity.currTitle||!M.currTitle),required:!0,errorBorderColor:"red.300",defaultValue:e.profileData.content.identity.currTitle||"",name:"currTitle",onChange:X}),A.currTitle&&(!e.profileData.content.identity.currTitle||!M.currTitle)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:A.currTitle})]}),(0,r.jsxs)(C.NI,{p:2,id:"currLocation",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"Where do you call home?"}),(0,r.jsx)(I.II,{defaultValue:e.profileData.content.identity.currLocation||"",name:"currLocation",onChange:X})]}),(0,r.jsxs)(C.NI,{p:2,id:"bio",children:[(0,r.jsx)(C.lX,{children:"Bio"}),(0,r.jsx)(S.g,{isInvalid:A.bio,errorBorderColor:"red.300",defaultValue:e.profileData.content.identity.bio||"",name:"bio",onChange:X}),A.bio&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:A.bio})]}),(0,r.jsxs)(C.NI,{p:2,id:"linkedIn",children:[(0,r.jsx)(C.lX,{children:"LinkedIn URL"}),(0,r.jsx)(I.II,{isInvalid:A.linkedIn,errorBorderColor:"red.300",name:"linkedIn",defaultValue:e.profileData.content.identity.linkedIn||"",onChange:X}),A.linkedIn&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:A.linkedIn})]}),(0,r.jsxs)(C.NI,{p:2,id:"twitter",children:[(0,r.jsx)(C.lX,{children:"Twitter URL"}),(0,r.jsx)(I.II,{isInvalid:A.twitter,errorBorderColor:"red.300",name:"twitter",defaultValue:e.profileData.content.identity.twitter||"",onChange:X}),A.twitter&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:A.twitter})]})]})}),(0,r.jsxs)(b.mz,{children:[(0,r.jsx)(p.zx,{colorScheme:"blue",mr:3,onClick:e.onClose,children:"Close"}),(0,r.jsxs)(p.zx,{variant:"ghost",onClick:function(){return W.apply(this,arguments)},children:["Save ",o?(0,r.jsx)(d.D8,{size:"22px",thickness:"4px",isIndeterminate:!0,color:"#3C2E26"}):null]})]})]})]})})},O=t(11391);function q(e,n,t,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,i)}function F(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){q(o,r,i,a,c,"next",e)}function c(e){q(o,r,i,a,c,"throw",e)}a(void 0)}))}}function z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){z(e,n,t[n])}))}return e}var M="https://ceramic-clay.3boxlabs.com",B=function(e){var n=(0,u.useRef)(),t=(0,u.useState)(!1),o=t[0],a=t[1],s=(0,u.useState)(e.profileData.content.accType),l=s[0],f=(s[1],(0,u.useState)(e.profileData.content.identity)),w=f[0],S=f[1],D=(0,u.useState)(e.profileData),k=D[0],N=D[1],P=(0,u.useState)({displayName:e.profileData.content.identity.displayName,email:e.profileData.content.identity.email}),T=P[0],E=P[1],q=(0,u.useState)({displayName:null,email:null}),B=q[0],L=q[1];function A(){return(A=F(c().mark((function n(){var t,r,i,o,s,d,p;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return L(W(T)),n.next=3,(0,h.$)();case 3:if(!(t=n.sent)){n.next=25;break}return r=new x.ZP(M),i=new y.$F,o=new y.KS(window.ethereum,t),a(!0),n.next=11,i.connect(o);case 11:return s=new j.DID({provider:i.getDidProvider(),resolver:R({},m().getResolver(r))}),r.setDID(s),n.next=15,r.did.authenticate();case 15:return d=new g.xK({ceramic:r}),n.next=18,d.get("basicProfile","".concat(t,"@eip155:1"));case 18:return p=n.sent,console.log("data: ",p),n.next=22,V(r,w,l);case 22:console.log("Profile updated!"),console.log(w),w.firstName&&w.lastName&&w.email?(a(!1),e.handleUpdatedExperiences(k,!1),e.onClose()):console.log("No profile, pls create one...");case 25:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var V=F(c().mark((function e(n,t,r){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.TileDocument.deterministic(n,{family:"user-profile-data"});case 2:return i=e.sent,e.next=5,i.update({identity:t,accType:r});case 5:case"end":return e.stop()}}),e)}))),W=function(e){var n={};e.displayName||(n.displayName="Display name is required");return e.email||(n.email="Email address is required"),e.email&&!/(.+)@(.+){1,}\.(.+){1,}/.test(e.email)&&(n.email="Email address is invalid"),""===e.funcExpertise&&(n.funcExpertise="Functional expertise is required"),""===e.industryExpertise&&(n.industryExpertise="Industry expertise is required"),n},U=function(n){n.persist(),E((function(e){return R({},e,z({},n.target.name,n.target.value))})),L(W(T)),S(R({},w,z({},n.target.name,n.target.value)));var t={content:{identity:w,accType:e.profileData.content.accType}};N(t)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(b.u_,{finalFocusRef:n,isOpen:e.isOpen,onClose:e.onClose,children:[(0,r.jsx)(b.ZA,{}),(0,r.jsxs)(b.hz,{children:[(0,r.jsx)(b.xB,{children:"Update your background expertise"}),(0,r.jsx)(b.ol,{}),(0,r.jsx)(b.fe,{children:(0,r.jsxs)("form",{style:{alignSelf:"center"},children:[(0,r.jsxs)(C.NI,{p:2,id:"display-name",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"Display name"}),(0,r.jsx)(I.II,{required:!0,isInvalid:B.displayName&&(!e.profileData.content.identity.displayName||!T.displayName),errorBorderColor:"red.300",placeholder:"Display name",name:"displayName",defaultValue:e.profileData.content.identity.displayName||"",onChange:U}),B.displayName&&(!e.profileData.content.identity.displayName||!T.displayName)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:B.displayName})]}),(0,r.jsxs)(C.NI,{p:2,id:"email",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"Email"}),(0,r.jsx)(I.II,{required:!0,isInvalid:B.email&&e.profileData.content.identity.email===T.email,errorBorderColor:"red.300",placeholder:"Email",name:"email",defaultValue:e.profileData.content.identity.email||"",onChange:U}),B.email&&e.profileData.content.identity.email!==T.email&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:B.email})]}),(0,r.jsxs)(C.NI,{p:2,id:"functional-expertise",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"So...what would you say you do?"}),(0,r.jsxs)(O.Ph,{required:!0,defaultValue:e.profileData.content.identity.funcExpertise,errorBorderColor:"red.300",placeholder:"Select functional expertise",name:"funcExpertise",onChange:U,children:[(0,r.jsx)("option",{children:"Accounting"}),(0,r.jsx)("option",{children:"Creative"}),(0,r.jsx)("option",{children:"Audit"}),(0,r.jsx)("option",{children:"Board & Advisory"}),(0,r.jsx)("option",{children:"Corporate Development"}),(0,r.jsx)("option",{children:"Comp & Benefits"}),(0,r.jsx)("option",{children:"Compliance"}),(0,r.jsx)("option",{children:"Management Consulting"}),(0,r.jsx)("option",{children:"Data & Analytics"}),(0,r.jsx)("option",{children:"Product Design"}),(0,r.jsx)("option",{children:"Digital"}),(0,r.jsx)("option",{children:"Engineering"}),(0,r.jsx)("option",{children:"Entrepreneurship"}),(0,r.jsx)("option",{children:"Finance"}),(0,r.jsx)("option",{children:"General Management"}),(0,r.jsx)("option",{children:"Human Resources"}),(0,r.jsx)("option",{children:"IT Infrastructure"}),(0,r.jsx)("option",{children:"Innovation"}),(0,r.jsx)("option",{children:"Investor"}),(0,r.jsx)("option",{children:"Legal"}),(0,r.jsx)("option",{children:"Marketing"}),(0,r.jsx)("option",{children:"Media & Comms"}),(0,r.jsx)("option",{children:"Merchandising"}),(0,r.jsx)("option",{children:"Security"}),(0,r.jsx)("option",{children:"Operations"}),(0,r.jsx)("option",{children:"Portfolio Operations"}),(0,r.jsx)("option",{children:"Procurement"}),(0,r.jsx)("option",{children:"Product Management"}),(0,r.jsx)("option",{children:"Investor Relations"}),(0,r.jsx)("option",{children:"Regulatory"}),(0,r.jsx)("option",{children:"Research"}),(0,r.jsx)("option",{children:"Risk"}),(0,r.jsx)("option",{children:"Strategy"}),(0,r.jsx)("option",{children:"Technology"}),(0,r.jsx)("option",{children:"Transformation"}),(0,r.jsx)("option",{children:"Sales & Customer"}),(0,r.jsx)("option",{children:"Data Science"}),(0,r.jsx)("option",{children:"Talent Acquisition"}),(0,r.jsx)("option",{children:"Tax"}),(0,r.jsx)("option",{children:"Cybersecurity"}),(0,r.jsx)("option",{children:"Investment Banking"}),(0,r.jsx)("option",{children:"Supply Chain"})]})]}),(0,r.jsxs)(C.NI,{p:2,id:"industry-expertise",isRequired:!0,children:[(0,r.jsx)(C.lX,{children:"Where would you say you work?"}),(0,r.jsxs)(O.Ph,{required:!0,defaultValue:e.profileData.content.identity.industryExpertise,placeholder:"Select industry expertise",name:"industryExpertise",onChange:U,children:[(0,r.jsx)("option",{children:"Accounting"}),(0,r.jsx)("option",{children:"Angel Investment"}),(0,r.jsx)("option",{children:"Asset Management"}),(0,r.jsx)("option",{children:"Auto Insurance"}),(0,r.jsx)("option",{children:"Banking"}),(0,r.jsx)("option",{children:"Bitcoin"}),(0,r.jsx)("option",{children:"Commercial Insurance"}),(0,r.jsx)("option",{children:"Commercial Lending"}),(0,r.jsx)("option",{children:"Credit"}),(0,r.jsx)("option",{children:"Credit Bureau"}),(0,r.jsx)("option",{children:"Credit Cards"}),(0,r.jsx)("option",{children:"Crowdfunding"}),(0,r.jsx)("option",{children:"Cryptocurrency"}),(0,r.jsx)("option",{children:"Debit Cards"}),(0,r.jsx)("option",{children:"Debt Collections"}),(0,r.jsx)("option",{children:"Finance"}),(0,r.jsx)("option",{children:"Financial Exchanges"}),(0,r.jsx)("option",{children:"Financial Services"}),(0,r.jsx)("option",{children:"FinTech"}),(0,r.jsx)("option",{children:"Fraud Detection"}),(0,r.jsx)("option",{children:"Funding Platform"}),(0,r.jsx)("option",{children:"Gift Card"}),(0,r.jsx)("option",{children:"Health Insurance"}),(0,r.jsx)("option",{children:"Hedge Funds"}),(0,r.jsx)("option",{children:"Impact Investing"}),(0,r.jsx)("option",{children:"Incubators"}),(0,r.jsx)("option",{children:"Insurance"}),(0,r.jsx)("option",{children:"InsurTech"}),(0,r.jsx)("option",{children:"Leasing"}),(0,r.jsx)("option",{children:"Lending"}),(0,r.jsx)("option",{children:"Life Insurance"}),(0,r.jsx)("option",{children:"Micro Lending"}),(0,r.jsx)("option",{children:"Mobile Payments"}),(0,r.jsx)("option",{children:"Payments"}),(0,r.jsx)("option",{children:"Personal Finance"}),(0,r.jsx)("option",{children:"Prediction Markets"}),(0,r.jsx)("option",{children:"Property Insurance"}),(0,r.jsx)("option",{children:"Real Estate Investment"}),(0,r.jsx)("option",{children:"Stock Exchanges"}),(0,r.jsx)("option",{children:"Trading Platform"}),(0,r.jsx)("option",{children:"Transaction Processing"}),(0,r.jsx)("option",{children:"Venture Capital"}),(0,r.jsx)("option",{children:"Virtual Currency"}),(0,r.jsx)("option",{children:"Wealth Management"})]})]})]})}),(0,r.jsxs)(b.mz,{children:[(0,r.jsx)(p.zx,{colorScheme:"blue",mr:3,onClick:e.onClose,children:"Close"}),(0,r.jsxs)(p.zx,{variant:"ghost",onClick:function(){return A.apply(this,arguments)},children:["Save ",o?(0,r.jsx)(d.D8,{size:"22px",thickness:"4px",isIndeterminate:!0,color:"#3C2E26"}):null]})]})]})]})})},L=t(28687),A=function(e){var n=(0,u.useRef)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(b.u_,{finalFocusRef:n,isOpen:e.isOpen,onClose:e.onClose,children:[(0,r.jsx)(b.ZA,{}),(0,r.jsxs)(b.hz,{children:[(0,r.jsx)(b.ol,{}),(0,r.jsx)(b.fe,{alignSelf:"center",children:(0,r.jsx)(i.gC,{spacing:6,padding:10,children:e.snapshotData?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.X6,{children:e.snapshotData.spaceID}),(0,r.jsx)(s.Ei,{borderRadius:"full",width:"150px",src:e.snapshotData.avatar,alt:"fox stock img"},e.snapshotData.spaceID),(0,r.jsxs)("div",{children:["you have ",e.snapshotData.walletVotes," vote(s) at ",e.snapshotData.spaceID,"!"]}),(0,r.jsxs)("div",{children:[e.snapshotData.walletVotes,"/",e.snapshotData.totalVotes]})]}):null})})]})]})})},V=t(8100);function W(e,n,t,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,i)}function U(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){W(o,r,i,a,c,"next",e)}function c(e){W(o,r,i,a,c,"throw",e)}a(void 0)}))}}function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){X(e,n,t[n])}))}return e}var $="https://ceramic-clay.3boxlabs.com";function _(e){console.log(e);var n={params:e.companyName},t=new URLSearchParams(n);t.sort();var o=t.toString(),a=(0,V.ZP)("/api/cors?".concat(o),(function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return fetch(e).then((function(e){return e.json()}))})).data;return console.log("DATA: ",a),a?e.isDisabled(!1):e.isDisabled(!0),(0,r.jsx)(r.Fragment,{children:a&&a.message&&a.message.logo?(0,r.jsx)(i.xu,{w:"full",borderRadius:"lg",overflow:"hidden",p:4,children:(0,r.jsx)(s.Ei,{height:"30px",src:a.message.logo,alt:a.message.domain})}):(0,r.jsx)(i.xu,{w:"full",borderRadius:"lg",overflow:"hidden",p:4,children:(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:"Company logo is unavailable or name is incorrect."})})})}var Z=function(e){var n=(0,u.useRef)(),t=(0,u.useState)(!1),o=t[0],a=t[1],s=(0,u.useState)(""),l=s[0],f=s[1],w=(0,u.useState)(""),S=w[0],D=w[1],k=(0,u.useState)(),N=k[0],P=k[1],T=(0,u.useState)(),E=T[0],q=T[1],F=(0,u.useState)(),z=F[0],R=F[1],M=(0,u.useState)(),B=M[0],L=M[1],A=(0,u.useState)(!1),V=A[0],W=A[1],Z=(0,u.useState)(!1),K=Z[0],G=Z[1],H=(0,u.useState)(e.profileData.content.accType),J=H[0],Q=(H[1],(0,u.useState)(e.profileData.content.identity)),ee=Q[0],ne=Q[1],te=(0,u.useState)(e.profileData),re=te[0],ie=te[1],oe=e.profileData.content.identity.companyInfo&&e.profileData.content.identity.companyInfo[e.currCompany]?e.profileData.content.identity.companyInfo[e.currCompany]:{companyName:"",companyTitle:"",companyStart:"",companyEnd:"",companyFunc:"",companyIndustry:""},ae=(0,u.useState)({companyName:null,companyTitle:null,companyStart:null,companyEnd:null,companyFunc:null,companyIndustry:null}),ce=ae[0],se=ae[1],le=(0,u.useState)({companyName:oe&&oe.companyName?oe.companyName:"",companyTitle:oe&&oe.companyTitle?oe.companyTitle:"",companyStart:oe&&oe.companyStart?oe.companyStart:"",companyEnd:oe&&oe.companyEnd?oe.companyEnd:"",companyFunc:oe&&oe.companyFunc?oe.companyFunc:"",companyIndustry:oe&&oe.companyIndustry?oe.companyIndustry:""}),de=le[0],pe=le[1];function ue(){return(ue=U(c().mark((function n(){var t,r,i,o,s,d;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.$)();case 2:if(!(t=n.sent)){n.next=24;break}return r=new x.ZP($),i=new y.$F,o=new y.KS(window.ethereum,t),a(!0),n.next=10,i.connect(o);case 10:return s=new j.DID({provider:i.getDidProvider(),resolver:Y({},m().getResolver(r))}),r.setDID(s),n.next=14,r.did.authenticate();case 14:return d=new g.xK({ceramic:r}),n.next=17,d.get("basicProfile","".concat(t,"@eip155:1"));case 17:return n.sent,ee.companyInfo[e.currCompany]={companyName:l,companyTitle:S,companyStart:N,companyEnd:E,companyFunc:z,companyIndustry:B},n.next=21,he(r,ee,J);case 21:console.log("Profile updated!"),console.log(ee),ee.firstName&&ee.lastName&&ee.email?(a(!1),e.handleUpdatedCompanyInfo(re,!1),e.onClose()):console.log("No profile, pls create one...");case 24:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var he=U(c().mark((function e(n,t,r){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.TileDocument.deterministic(n,{family:"user-profile-data"});case 2:return i=e.sent,e.next=5,i.update({identity:t,accType:r});case 5:case"end":return e.stop()}}),e)}))),xe=function(n){n.persist(),pe((function(e){return Y({},e,X({},n.target.name,n.target.value))})),se(fe(de)),ne(Y({},ee));var t={content:{identity:ee,accType:e.profileData.content.accType}};ie(t),"companyName"==n.target.name?(f(n.target.value),W(!0)):W(!1),"companyTitle"==n.target.name&&D(n.target.value),"companyStart"==n.target.name&&P(n.target.value),"companyEnd"==n.target.name&&q(n.target.value),"funcExpertise"==n.target.name&&R(n.target.value),"industryExpertise"==n.target.name&&L(n.target.value)},fe=function(e){var n={};e.companyName||(n.companyName="Company name is required"),e.companyTitle||(n.companyTitle="Job title is required");var t=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;return e.companyStart||(n.companyStart="Start date (DD-MM-YYYY) is required"),e.companyStart&&!t.test(e.companyStart)&&(n.companyStart="Start date (DD-MM-YYYY) is incorrect"),e.companyEnd||(n.companyEnd="End date (DD-MM-YYYY) is required"),e.companyEnd&&!t.test(e.companyEnd)&&(n.companyEnd="End date (DD-MM-YYYY) is incorrect"),""===e.companyFunc&&(n.companyFunc="Functional expertise is required"),""===e.companyIndustry&&(n.companyIndustry="Industry expertise is required"),n};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(b.u_,{finalFocusRef:n,isOpen:e.isOpen,onClose:e.onClose,children:[(0,r.jsx)(b.ZA,{}),(0,r.jsxs)(b.hz,{children:[(0,r.jsx)(b.xB,{children:"Update your work experience"}),(0,r.jsx)(b.ol,{}),(0,r.jsx)(b.fe,{children:oe?(0,r.jsxs)("form",{style:{alignSelf:"center"},children:[(0,r.jsxs)(C.NI,{p:2,id:"company-name",children:[(0,r.jsx)(C.lX,{children:"Company name"}),V&&(0,r.jsx)(_,{companyName:l,isDisabled:function(e){G(e)}}),(0,r.jsx)(I.II,{required:!0,isInvalid:ce.companyName&&(!oe.companyName||!de.companyName),errorBorderColor:"red.300",placeholder:"Company name",name:"companyName",defaultValue:oe.companyName||"",onChange:xe}),ce.companyName&&(!oe.companyName||!de.companyName)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:ce.companyName})]}),(0,r.jsxs)(C.NI,{p:2,id:"company-title",children:[(0,r.jsx)(C.lX,{children:"Job title"}),(0,r.jsx)(I.II,{required:!0,isInvalid:ce.companyTitle&&(!oe.companyTitle||!de.companyTitle),errorBorderColor:"red.300",placeholder:"Job title",name:"companyTitle",defaultValue:oe.companyTitle||"",onChange:xe}),ce.companyTitle&&(!oe.companyTitle||!de.companyTitle)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:ce.companyTitle})]}),(0,r.jsxs)(C.NI,{p:2,id:"company-start",children:[(0,r.jsx)(C.lX,{children:"What was your start date?"}),(0,r.jsx)(I.II,{required:!0,isInvalid:ce.companyStart&&(!oe.companyStart||!de.companyStart),errorBorderColor:"red.300",name:"companyStart",defaultValue:oe.companyStart||"",onChange:xe}),ce.companyStart&&(!oe.companyStart||!de.companyStart)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:ce.companyStart})]}),(0,r.jsxs)(C.NI,{p:2,id:"company-end",children:[(0,r.jsx)(C.lX,{children:"What was your end date?"}),(0,r.jsx)(I.II,{required:!0,isInvalid:ce.companyEnd&&(!oe.companyEnd||!de.companyEnd),errorBorderColor:"red.300",name:"companyEnd",defaultValue:oe.companyEnd||"",onChange:xe}),ce.companyEnd&&(!oe.companyEnd||!de.companyEnd)&&(0,r.jsx)(i.xv,{fontSize:"xs",fontWeight:"400",color:"red.500",children:ce.companyEnd})]}),(0,r.jsxs)(C.NI,{p:2,id:"company-func",children:[(0,r.jsx)(C.lX,{children:"Functional expertise"}),(0,r.jsxs)(O.Ph,{required:!0,defaultValue:oe.companyFunc,errorBorderColor:"red.300",placeholder:"Select functional expertise",name:"funcExpertise",onChange:xe,children:[(0,r.jsx)("option",{children:"Accounting"}),(0,r.jsx)("option",{children:"Creative"}),(0,r.jsx)("option",{children:"Audit"}),(0,r.jsx)("option",{children:"Board & Advisory"}),(0,r.jsx)("option",{children:"Corporate Development"}),(0,r.jsx)("option",{children:"Comp & Benefits"}),(0,r.jsx)("option",{children:"Compliance"}),(0,r.jsx)("option",{children:"Management Consulting"}),(0,r.jsx)("option",{children:"Data & Analytics"}),(0,r.jsx)("option",{children:"Product Design"}),(0,r.jsx)("option",{children:"Digital"}),(0,r.jsx)("option",{children:"Engineering"}),(0,r.jsx)("option",{children:"Entrepreneurship"}),(0,r.jsx)("option",{children:"Finance"}),(0,r.jsx)("option",{children:"General Management"}),(0,r.jsx)("option",{children:"Human Resources"}),(0,r.jsx)("option",{children:"IT Infrastructure"}),(0,r.jsx)("option",{children:"Innovation"}),(0,r.jsx)("option",{children:"Investor"}),(0,r.jsx)("option",{children:"Legal"}),(0,r.jsx)("option",{children:"Marketing"}),(0,r.jsx)("option",{children:"Media & Comms"}),(0,r.jsx)("option",{children:"Merchandising"}),(0,r.jsx)("option",{children:"Security"}),(0,r.jsx)("option",{children:"Operations"}),(0,r.jsx)("option",{children:"Portfolio Operations"}),(0,r.jsx)("option",{children:"Procurement"}),(0,r.jsx)("option",{children:"Product Management"}),(0,r.jsx)("option",{children:"Investor Relations"}),(0,r.jsx)("option",{children:"Regulatory"}),(0,r.jsx)("option",{children:"Research"}),(0,r.jsx)("option",{children:"Risk"}),(0,r.jsx)("option",{children:"Strategy"}),(0,r.jsx)("option",{children:"Technology"}),(0,r.jsx)("option",{children:"Transformation"}),(0,r.jsx)("option",{children:"Sales & Customer"}),(0,r.jsx)("option",{children:"Data Science"}),(0,r.jsx)("option",{children:"Talent Acquisition"}),(0,r.jsx)("option",{children:"Tax"}),(0,r.jsx)("option",{children:"Cybersecurity"}),(0,r.jsx)("option",{children:"Investment Banking"}),(0,r.jsx)("option",{children:"Supply Chain"})]})]}),(0,r.jsxs)(C.NI,{p:2,id:"company-industry",children:[(0,r.jsx)(C.lX,{children:"Industry"}),(0,r.jsxs)(O.Ph,{required:!0,defaultValue:oe.companyIndustry,errorBorderColor:"red.300",placeholder:"Select industry expertise",name:"industryExpertise",onChange:xe,children:[(0,r.jsx)("option",{children:"Accounting"}),(0,r.jsx)("option",{children:"Angel Investment"}),(0,r.jsx)("option",{children:"Asset Management"}),(0,r.jsx)("option",{children:"Auto Insurance"}),(0,r.jsx)("option",{children:"Banking"}),(0,r.jsx)("option",{children:"Bitcoin"}),(0,r.jsx)("option",{children:"Commercial Insurance"}),(0,r.jsx)("option",{children:"Commercial Lending"}),(0,r.jsx)("option",{children:"Credit"}),(0,r.jsx)("option",{children:"Credit Bureau"}),(0,r.jsx)("option",{children:"Credit Cards"}),(0,r.jsx)("option",{children:"Crowdfunding"}),(0,r.jsx)("option",{children:"Cryptocurrency"}),(0,r.jsx)("option",{children:"Debit Cards"}),(0,r.jsx)("option",{children:"Debt Collections"}),(0,r.jsx)("option",{children:"Finance"}),(0,r.jsx)("option",{children:"Financial Exchanges"}),(0,r.jsx)("option",{children:"Financial Services"}),(0,r.jsx)("option",{children:"FinTech"}),(0,r.jsx)("option",{children:"Fraud Detection"}),(0,r.jsx)("option",{children:"Funding Platform"}),(0,r.jsx)("option",{children:"Gift Card"}),(0,r.jsx)("option",{children:"Health Insurance"}),(0,r.jsx)("option",{children:"Hedge Funds"}),(0,r.jsx)("option",{children:"Impact Investing"}),(0,r.jsx)("option",{children:"Incubators"}),(0,r.jsx)("option",{children:"Insurance"}),(0,r.jsx)("option",{children:"InsurTech"}),(0,r.jsx)("option",{children:"Leasing"}),(0,r.jsx)("option",{children:"Lending"}),(0,r.jsx)("option",{children:"Life Insurance"}),(0,r.jsx)("option",{children:"Micro Lending"}),(0,r.jsx)("option",{children:"Mobile Payments"}),(0,r.jsx)("option",{children:"Payments"}),(0,r.jsx)("option",{children:"Personal Finance"}),(0,r.jsx)("option",{children:"Prediction Markets"}),(0,r.jsx)("option",{children:"Property Insurance"}),(0,r.jsx)("option",{children:"Real Estate Investment"}),(0,r.jsx)("option",{children:"Stock Exchanges"}),(0,r.jsx)("option",{children:"Trading Platform"}),(0,r.jsx)("option",{children:"Transaction Processing"}),(0,r.jsx)("option",{children:"Venture Capital"}),(0,r.jsx)("option",{children:"Virtual Currency"}),(0,r.jsx)("option",{children:"Wealth Management"})]})]})]}):null}),(0,r.jsxs)(b.mz,{children:[(0,r.jsx)(p.zx,{colorScheme:"blue",mr:3,onClick:e.onClose,children:"Close"}),(0,r.jsxs)(p.zx,{isDisabled:K,onClick:function(){W(!1),function(){ue.apply(this,arguments)}()},variant:"ghost",children:["Save ",o?(0,r.jsx)(d.D8,{size:"22px",thickness:"4px",isIndeterminate:!0,color:"#3C2E26"}):null]})]})]})]},"companymodal--".concat(e.currCompany))})};function K(e,n,t,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,i)}function G(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){K(o,r,i,a,c,"next",e)}function c(e){K(o,r,i,a,c,"throw",e)}a(void 0)}))}}function H(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){H(e,n,t[n])}))}return e}function Q(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ee(){var e=Q(["\n            query getSnapshotVotes($wallet: String!)\n            {\n              votes (where: { voter: $wallet }) {\n                id\n                space {\n                  id\n                  avatar\n                }\n              }\n            }\n              "]);return ee=function(){return e},e}function ne(){var e=Q(["\n                query getProposals($spaceID: String!) {\n                  proposals (where: { space: $spaceID }) {\n                    title\n                    scores\n                    scores_total\n                    votes\n                  }\n                }"]);return ne=function(){return e},e}function te(){var e=Q(["\n                    query getVotes($spaceID: String!, $wallet: String!) {\n                            votes (where: { voter: $wallet, space: $spaceID }) {\n                            id\n                        }\n                    }"]);return te=function(){return e},e}var re="https://ceramic-clay.3boxlabs.com",ie=function(e){var n={params:e.companyName},t=new URLSearchParams(n);t.sort();var o=t.toString(),a=(0,V.ZP)("/api/cors?".concat(o),(function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return fetch(e).then((function(e){return e.json()}))})),c=a.data;a.error;return console.log("DATA: ",c),(0,r.jsx)(r.Fragment,{children:c&&c.message&&c.message.logo?(0,r.jsx)(i.xu,{w:"100px",height:"100px",borderRadius:"full",backgroundColor:"rgb(222, 222, 222)",overflow:"hidden",p:4,children:(0,r.jsx)(s.Ei,{backgroundColor:"rgb(222, 222, 222)",style:{cursor:"pointer"},alignSelf:"center",src:c.message.logo,alt:"fox stock img",onMouseEnter:function(e){return e.currentTarget.src="edit.svg"},onMouseLeave:function(e){return e.currentTarget.src=c.message.logo},onClick:function(){e.setCurrCompany(e.currCompany),e.onCompanyModalOpen()}},"".concat(c.message.name,"--").concat(e.currCompany))},"".concat(c.message.name,"--").concat(e.currCompany,"--box")):(0,r.jsx)(s.Ei,{borderRadius:"full",style:{cursor:"pointer"},backgroundColor:"lightgray",width:"100px",src:"add.svg",alt:"add img",onClick:function(){e.setCurrCompany(e.currCompany),e.onCompanyModalOpen()}},"".concat(e.currCompany,"--empty-company-exp"))})},oe=function(){var e=(0,u.useState)(),n=e[0],t=e[1],o=(0,u.useState)(""),a=o[0],f=o[1],b=(0,l.qY)(),C=b.isOpen,I=b.onOpen,S=b.onClose,D=(0,l.qY)(),k=D.isOpen,N=D.onOpen,P=D.onClose,T=(0,l.qY)(),O=T.isOpen,q=T.onOpen,F=T.onClose,z=(0,l.qY)(),R=z.isOpen,M=z.onOpen,V=z.onClose,W=(0,u.useState)(!1),U=W[0],X=W[1],Y=(0,u.useState)(),$=Y[0],_=Y[1],K=(0,u.useState)(),H=K[0],Q=K[1],oe=(0,u.useState)(0),ae=oe[0],ce=oe[1];function se(){return le.apply(this,arguments)}function le(){return(le=G(c().mark((function e(){var n,r,i,o,a,s,l,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.$)();case 2:return n=e.sent,r=new x.ZP(re),i=new g.xK({ceramic:r}),o=new y.$F,a=new y.KS(window.ethereum,n),e.next=9,o.connect(a);case 9:return e.next=11,o.getDidProvider();case 11:return s=e.sent,r.did=new j.DID({provider:s,resolver:J({},m().getResolver(r))}),e.next=15,r.did.authenticate();case 15:return e.prev=15,e.next=18,i.get("basicProfile","".concat(n,"@eip155:1"));case 18:return l=e.sent,console.log("data: ",l),e.next=22,v.TileDocument.deterministic(r,{family:"user-profile-data"},{anchor:!1,publish:!1});case 22:d=e.sent,l.name&&f(l.name),d&&t(d),X(!0),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(15),console.log("error: ",e.t0),X(!1);case 32:case"end":return e.stop()}}),e,null,[[15,28]])})))).apply(this,arguments)}(0,u.useEffect)((function(){function e(){return(e=G(c().mark((function e(){var r,i,o,a,s,l,d,p,u,w;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.$)();case 2:return r=e.sent,i=new x.ZP(re),o=new g.xK({ceramic:i}),a=new y.$F,s=new y.KS(window.ethereum,r),e.next=9,a.connect(s);case 9:return e.next=11,a.getDidProvider();case 11:return l=e.sent,i.did=new j.DID({provider:l,resolver:J({},m().getResolver(i))}),e.next=15,i.did.authenticate();case 15:return e.prev=15,e.next=18,o.get("basicProfile","".concat(r,"@eip155:1"));case 18:return d=e.sent,console.log("data: ",d),e.next=22,v.TileDocument.deterministic(i,{family:"user-profile-data"},{anchor:!1,publish:!1});case 22:p=e.sent,d.name&&f(d.name),p&&t(p),X(!0),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(15),console.log("error: ",e.t0),X(!1);case 32:u=(0,L.gql)(ee()),w={wallet:r},(0,L.request)("https://hub.snapshot.org/graphql",u,w).then((function(e){e.votes.find((function(e){e.space.avatar&&(e.space.avatar=e.space.avatar.replace("ipfs://","https://ipfs.io/ipfs/"))})),n(e,r)}));case 35:case"end":return e.stop()}}),e,null,[[15,28]])})))).apply(this,arguments)}function n(e,n){return r.apply(this,arguments)}function r(){return(r=G(c().mark((function e(n,t){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n&&n.votes.forEach((function(e){var n={spaceID:"",totalVotes:0,walletVotes:0,voter:"",avatar:e.space.avatar},i={spaceID:e.space.id,wallet:t},o=(0,L.gql)(ne());(0,L.request)("https://hub.snapshot.org/graphql",o,i).then((function(e){var t=0;e.proposals.forEach((function(e){t+=e.votes})),n.totalVotes=t}));var a=(0,L.gql)(te());(0,L.request)("https://hub.snapshot.org/graphql",a,i).then((function(e){n.walletVotes=e.votes.length,n.voter=t})),n.spaceID=e.space.id,r.push(n)})),i=[],r.forEach((function(e){i.findIndex((function(n){return n.spaceID==e.spaceID}))<=-1&&i.push(e)})),_(i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var de=function(e){t(J({},e)),se()};return(0,r.jsx)(r.Fragment,{children:U?n&&a&&n.content&&n.content.accType&&n.content.identity&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.xu,{w:"full",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:(0,r.jsx)(s.Ei,{objectFit:"cover",width:"100%",height:"200px",overflow:"hidden",src:"https://i.pinimg.com/originals/92/4e/c3/924ec3d75761aa0e5b84e4031f718de6.jpg",alt:"aesthetic brown"})}),(0,r.jsxs)(i.Ug,{w:"full",spacing:24,children:[(0,r.jsxs)(i.gC,{marginTop:0,paddingTop:0,align:"flex-start",spacing:6,children:[(0,r.jsx)(i.xu,{alignSelf:"flex-start",overflow:"hidden",children:(0,r.jsx)(s.Ei,{borderRadius:"full",width:"500px",src:"fox-pfp.png",alt:"fox stock img"})}),(0,r.jsx)(p.hU,{onClick:N,alignSelf:"flex-end",variant:"ghost","aria-label":"Update experience",icon:(0,r.jsx)(w.G,{size:"sm",icon:["fas","edit"]})}),(0,r.jsx)(B,{isOpen:k,onClose:P,profileData:n,handleUpdatedExperiences:de}),n.content.identity.displayName&&(0,r.jsxs)(i.xv,{fontSize:"xl",children:["@",n.content.identity.displayName]}),n.content.identity.email&&(0,r.jsx)(i.xv,{fontSize:"md",children:n.content.identity.email}),(0,r.jsx)(i.xu,{p:4,ml:8,borderWidth:"1px",color:"rgb(0, 0, 0)",borderRadius:"lg",overflow:"hidden",backgroundColor:"rgb(222, 222, 222)",children:n&&n.content.identity&&n.content.identity.funcExpertise&&(0,r.jsx)(i.xv,{fontSize:"md",children:n.content.identity.funcExpertise})}),(0,r.jsx)(i.xu,{p:4,ml:8,borderWidth:"1px",borderRadius:"lg",overflow:"hidden",color:"rgb(0, 0, 0)",backgroundColor:"rgb(222, 222, 222)",children:n&&n.content.identity&&n.content.identity.industryExpertise&&(0,r.jsx)(i.xv,{fontSize:"md",children:n.content.identity.industryExpertise})})]}),(0,r.jsx)(i.xu,{alignSelf:"flex-start",w:"full",pt:16,pl:4,overflow:"hidden",children:(0,r.jsxs)(i.Kq,{spacing:6,children:[(0,r.jsxs)(i.Ug,{children:[(0,r.jsx)(i.xv,{fontSize:"xl",children:a+", "+n.content.accType}),(0,r.jsx)(w.G,{size:"lg",icon:["fas","map-pin"]}),n.content.identity.businessLocation&&(0,r.jsx)(i.xv,{fontSize:"md",children:n.content.identity.businessLocation})]}),(0,r.jsx)(i.xv,{fontSize:"md",children:n.content.identity.currTitle}),n.content.identity.bio&&(0,r.jsx)(i.xv,{fontSize:"md",children:n.content.identity.bio}),")",(0,r.jsxs)(i.gC,{children:[(0,r.jsxs)(i.xu,{alignSelf:"flex-start",w:"full",overflow:"hidden",children:[(0,r.jsx)(i.xv,{pb:8,fontSize:"xl",children:"Work Experience"}),(0,r.jsx)(i.Ug,{spacing:4,children:function(e){for(var t=function(e){n.content.identity.companyInfo&&e<o&&n.content.identity.companyInfo[e].companyName?i.push((0,r.jsx)(ie,{companyName:n.content.identity.companyInfo[e].companyName,currCompany:e,setCurrCompany:ce,onCompanyModalOpen:M})):i.push((0,r.jsx)(s.Ei,{borderRadius:"full",style:{cursor:"pointer"},backgroundColor:"lightgray",width:"100px",src:"add.svg",alt:"add img",onClick:function(){ce(e),M()}},"".concat(e,"--empty-company-exp")))},i=[],o=n.content.identity.companyInfo?n.content.identity.companyInfo.length:0,a=0;a<e;a++)t(a);return i}(5)}),(0,r.jsx)(Z,{isOpen:R,onClose:V,currCompany:ae,profileData:n,handleUpdatedCompanyInfo:function(e){t(J({},e)),se()}})]}),(0,r.jsxs)(i.xu,{alignSelf:"flex-start",w:"full",overflow:"hidden",children:[(0,r.jsx)(i.xv,{pt:8,pb:4,fontSize:"xl",children:"Web3 Credentials"}),$?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Ug,{spacing:4,children:$.map((function(e){return(0,r.jsx)(s.Ei,{style:{cursor:"pointer"},borderRadius:"full",width:"100px",src:e.avatar,alt:"fox stock img",onClick:function(){Q(e),q()}},e.spaceID)}))}),(0,r.jsx)(A,{isOpen:O,onClose:F,snapshotData:H})]}):null]})]})]})}),(0,r.jsxs)(i.xu,{marginTop:8,w:"150px",alignSelf:"flex-start",overflow:"hidden",children:[(0,r.jsx)(p.hU,{onClick:I,alignSelf:"flex-end",variant:"ghost","aria-label":"Update experience",icon:(0,r.jsx)(w.G,{size:"sm",icon:["fas","edit"]})}),(0,r.jsx)(E,{isOpen:C,onClose:S,profileData:n,handleUpdatedProfile:de})]})]})]}):(0,r.jsxs)(i.gC,{alignSelf:"center",spacing:8,pt:8,children:[(0,r.jsx)(d.D8,{size:"50px",thickness:"8px",isIndeterminate:!0,color:"#3C2E26"}),(0,r.jsx)(i.xv,{fontSize:"2xl",children:"Loading"})]})})},ae=function(){return(0,r.jsxs)(i.W2,{maxW:"container.xl",p:12,children:[(0,r.jsx)(o.Z,{whichPage:"profile"}),(0,r.jsx)(i.kC,{h:"full",children:(0,r.jsx)(i.gC,{w:"full",h:"full",spacing:8,alignItems:"flex-start",children:(0,r.jsx)(oe,{})})})]})}},67679:function(e,n,t){"use strict";t.d(n,{$:function(){return c}});var r=t(28520),i=t.n(r);function o(e,n,t,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function c(e){o(a,r,i,c,s,"next",e)}function s(e){o(a,r,i,c,s,"throw",e)}c(void 0)}))}}function c(){return s.apply(this,arguments)}function s(){return(s=a(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.ethereum){e.next=5;break}return console.log("Connect your ethereum wallet!"),e.abrupt("return");case 5:return e.next=7,n.request({method:"eth_requestAccounts"}).then((function(e){0!==e.length?(t=e[0],console.log("Found an authorized account: ",t)):console.log("No authorized account found!")}));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},88677:function(){},62808:function(){},35883:function(){},46601:function(){},71456:function(){},89214:function(){},71922:function(){},2363:function(){},96419:function(){},56353:function(){},85568:function(){},27790:function(){},69386:function(){},31616:function(){},29120:function(){},46586:function(){},73105:function(){},6567:function(){},69862:function(){},40964:function(){},71408:function(){},23646:function(){},55024:function(){},55896:function(){},87500:function(){}},function(e){e.O(0,[482,277,781,612,414,774,888,179],(function(){return n=22697,e(e.s=n);var n}));var n=e.O();_N_E=n}]);